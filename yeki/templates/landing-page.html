{% load static %}
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Yéki - Apprendre sans limites</title>
  
  <!-- Bootstrap & FontAwesome -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
  
  <!-- Custom CSS -->
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container">
      <a class="navbar-brand fw-bold" href="#"><img src="{% static 'img/yeki_logo_or.png' %}" class="logo-img" alt=""></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <i class="fas fa-bars"></i>
      </button>
      <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
        <ul class="navbar-nav me-3">
          <li class="nav-item"><a class="nav-link" href="#features">Fonctionnalités</a></li>
          <li class="nav-item"><a class="nav-link" href="#mockup">Aperçu</a></li>
          <li class="nav-item"><a class="nav-link" href="#faq">FAQ</a></li>
        </ul>
        <a href="{% static 'app/yeki-v.1.0.3.apk' %}" 
           class="btn btn-warning fw-bold" download>Télécharger</a>
      </div>
    </div>
  </nav>

  <!-- Hero -->
  <header class="py-5" style="background-color: #f5f9fa;">
    <div class="container">
      <div class="row align-items-center">
        <!-- Texte -->
        <div class="col-lg-6">
          <h1 class="fw-bold">Apprends, Progresse et <span style="color: #f39c12">Réussis</span> avec Yéki</h1>
          <p class="lead mt-3">
            Yéki est la plateforme e-learning qui t’aide à préparer tes concours, examens et devoirs, avec des cours interactifs, des enseignants experts et un suivi personnalisé.
          </p>
          <p class="mt-3">
            <strong>Version actuelle :</strong> 
            <span id="version-name" class="badge bg-warning text-dark">Chargement...</span>
          </p>
          <a href="{% static 'app/yeki-v.1.0.3.apk' %}" 
             class="btn btn-lg btn-warning fw-bold mt-3" download style="background-color: #008080; color: white;">
            Télécharger maintenant
          </a>
        </div>
        <!-- Image -->
        <div class="col-lg-6 text-center mt-4 mt-lg-0">
          <img src="{% static 'img/hero_yeki.png' %}" alt="Mockup App" class="img-fluid rounded shadow-lg">
        </div>
      </div>
    </div>
  </header>

  <!-- Features -->
  <section id="features" class="py-5">
    <div class="container text-center">
      <h2 class="fw-bold mb-5">Pourquoi choisir Yéki ?</h2>
      <div class="row g-4">
        <div class="col-md-4">
          <i class="fas fa-laptop-code fa-3x text-primary mb-3"></i>
          <h5 class="fw-bold">Cours interactifs</h5>
          <p>Des vidéos, quiz et exercices pour un apprentissage actif et engageant.</p>
        </div>
        <div class="col-md-4">
          <i class="fas fa-chalkboard-teacher fa-3x text-success mb-3"></i>
          <h5 class="fw-bold">Enseignants experts</h5>
          <p>Apprends avec des formateurs passionnés et expérimentés.</p>
        </div>
        <div class="col-md-4">
          <i class="fas fa-clock fa-3x text-danger mb-3"></i>
          <h5 class="fw-bold">Flexibilité totale</h5>
          <p>Apprends à ton rythme, où et quand tu veux.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Mockup -->
  <section id="mockup" class="py-5 bg-light">
    <div class="container text-center">
      <h2 class="fw-bold mb-4">Un aperçu de notre application</h2>
      <img src="{% static 'img/mockup-animated.gif' %}" alt="Mockup animé" class="img-fluid rounded shadow-lg">
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="py-5">
    <div class="container">
      <h2 class="fw-bold text-center mb-5">Questions fréquentes</h2>
      <div class="accordion" id="faqAccordion">
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
              Comment télécharger l'application ?
            </button>
          </h2>
          <div id="faq1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
            <div class="accordion-body">
              Cliquez simplement sur le bouton "Télécharger" dans la barre de navigation ou dans la section principale pour obtenir la dernière version.
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
              L'application est-elle gratuite ?
            </button>
          </h2>
          <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
            <div class="accordion-body">
              Oui, l'inscription est gratuite avec des options premium pour plus de contenus et de fonctionnalités.
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
              Puis-je suivre mes progrès ?
            </button>
          </h2>
          <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
            <div class="accordion-body">
              Oui, un tableau de bord interactif te permet de suivre ta progression en temps réel.
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="py-4 text-center text-white">
    <div class="container">
      <p class="mb-0">&copy; 2025 Yéki. Tous droits réservés.</p>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const CURRENT_VERSION = 2; // Numéro interne de ta version actuelle

    fetch("https://yekiapp.pythonanywhere.com/api/latest-version/")
      .then(res => res.json())
      .then(data => {
        const versionNameElement = document.getElementById("version-name");
        versionNameElement.textContent = data.version_name;

        if (data.version_code > CURRENT_VERSION) {
          versionNameElement.textContent = `${data.version_name} (Nouvelle)`;
          versionNameElement.classList.remove("bg-warning", "text-dark");
          versionNameElement.classList.add("bg-success", "text-white");
        }
      })
      .catch(err => {
        document.getElementById("version-name").textContent = "Erreur de chargement";
        console.error("Erreur lors de la vérification de mise à jour :", err);
      });
  </script>

</body>
</html>
